# SolidFlow å®Œæ•´åŠŸèƒ½è·¯çº¿å›¾

æœ¬æ–‡æ¡£åŸºäºŽ ReactFlow çš„å®Œæ•´åŠŸèƒ½ç‰¹æ€§ï¼Œè¯¦ç»†è§„åˆ’äº† SolidFlow çš„åŠŸèƒ½å®Œå–„è·¯çº¿å›¾ï¼Œä»¥è¾¾åˆ°ä¸Ž ReactFlow åŠŸèƒ½å¯¹ç­‰çš„ç›®æ ‡ã€‚

## ðŸ“Š ReactFlow vs SolidFlow åŠŸèƒ½å¯¹æ¯”

### âœ… å·²å®žçŽ°åŠŸèƒ½ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

| åŠŸèƒ½ç±»åˆ« | åŠŸèƒ½é¡¹ | çŠ¶æ€ | è¯´æ˜Ž |
|---------|--------|------|------|
| **åŸºç¡€æ¸²æŸ“** | èŠ‚ç‚¹æ¸²æŸ“ | âœ… | æ”¯æŒè‡ªå®šä¹‰èŠ‚ç‚¹ç±»åž‹ |
| | è¾¹æ¸²æŸ“ | âœ… | æ”¯æŒå¤šç§è¾¹ç±»åž‹ï¼ˆstraight, bezier, smoothstepï¼‰ |
| | è‡ªå®šä¹‰èŠ‚ç‚¹ç±»åž‹ | âœ… | nodeTypes æ”¯æŒ |
| | è‡ªå®šä¹‰è¾¹ç±»åž‹ | âœ… | edgeTypes æ”¯æŒ |
| **äº¤äº’åŠŸèƒ½** | èŠ‚ç‚¹æ‹–æ‹½ | âœ… | æ”¯æŒæ‹–æ‹½ç§»åŠ¨èŠ‚ç‚¹ |
| | ç”»å¸ƒå¹³ç§» | âœ… | æ”¯æŒæ‹–æ‹½å¹³ç§»ç”»å¸ƒ |
| | ç”»å¸ƒç¼©æ”¾ | âœ… | æ”¯æŒé¼ æ ‡æ»šè½®ç¼©æ”¾ã€åŒå‡»ç¼©æ”¾ |
| | è¿žæŽ¥ç‚¹ï¼ˆHandleï¼‰ | âœ… | æ”¯æŒ source/target è¿žæŽ¥ç‚¹ |
| | è¿žæŽ¥åŠŸèƒ½ | âœ… | æ”¯æŒæ‹–æ‹½è¿žæŽ¥èŠ‚ç‚¹ |
| | é€‰æ‹©åŠŸèƒ½ | âœ… | æ”¯æŒå•é€‰å’Œå¤šé€‰ |
| | æ‹–æ”¾æ·»åŠ èŠ‚ç‚¹ | âœ… | onDragOver, onDrop æ”¯æŒ |
| **UI ç»„ä»¶** | èƒŒæ™¯ç½‘æ ¼ | âœ… | Background ç»„ä»¶ |
| | æŽ§åˆ¶æŒ‰é’® | âœ… | Controls ç»„ä»¶ï¼ˆç¼©æ”¾ã€é€‚åˆè§†å›¾ï¼‰ |
| | å°åœ°å›¾ | âœ… | MiniMap ç»„ä»¶ |
| | Panel ç»„ä»¶ | âœ… | ç”¨äºŽåœ¨ç”»å¸ƒä¸Šæ”¾ç½®è‡ªå®šä¹‰å†…å®¹ |
| **è§†å›¾æŽ§åˆ¶** | è§†å›¾é€‚é… | âœ… | fitView åŠŸèƒ½ |
| | è§†å£æŽ§åˆ¶ | âœ… | setViewport, getViewport |
| | åæ ‡è½¬æ¢ | âœ… | project æ–¹æ³• |
| **è¾¹åŠŸèƒ½** | è¾¹åŠ¨ç”» | âœ… | animated å±žæ€§ |
| | è¾¹æ ‡è®°ï¼ˆç®­å¤´ï¼‰ | âœ… | markerStart/markerEnd |
| | è¾¹æ ‡ç­¾ | âœ… | label å±žæ€§ |
| | è¾¹æ ‡ç­¾ç¼–è¾‘ | âœ… | åŒå‡»è¾¹æ ‡ç­¾è¿›è¡Œç¼–è¾‘ |
| | è¾¹éªŒè¯ | âœ… | isValidConnection å›žè°ƒ |
| **çŠ¶æ€ç®¡ç†** | çŠ¶æ€ç®¡ç†å·¥å…· | âœ… | applyNodeChanges, applyEdgeChanges, addEdge |
| | Hooks API | âœ… | useNodes, useEdges, useReactFlow |
| | FlowProvider | âœ… | Context Provider |
| **åŽ†å²è®°å½•** | æ’¤é”€/é‡åš | âœ… | åŽ†å²è®°å½•ç®¡ç†ï¼Œæ”¯æŒ Ctrl+Z/Ctrl+Y |
| **é”®ç›˜å¿«æ·é”®** | åŸºç¡€å¿«æ·é”® | âœ… | Deleteã€Ctrl+Aã€Ctrl+Z/Yã€Escape |

### ðŸš§ éœ€è¦å®žçŽ°çš„åŠŸèƒ½

#### 1. æ ¸å¿ƒåŠŸèƒ½ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

##### 1.1 å¤åˆ¶ç²˜è´´åŠŸèƒ½
- **åŠŸèƒ½æè¿°**: æ”¯æŒ Ctrl+C å¤åˆ¶é€‰ä¸­èŠ‚ç‚¹ï¼ŒCtrl+V ç²˜è´´èŠ‚ç‚¹
- **ä¼˜å…ˆçº§**: ðŸ”´ é«˜
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°å‰ªè´´æ¿ç®¡ç†ï¼ˆClipboardManagerï¼‰
  - å¤åˆ¶æ—¶ä¿å­˜èŠ‚ç‚¹åŠå…¶ç›¸å¯¹ä½ç½®
  - ç²˜è´´æ—¶ç”Ÿæˆæ–° ID å¹¶åç§»ä½ç½®
  - æ”¯æŒå¤åˆ¶èŠ‚ç‚¹æ—¶åŒæ—¶å¤åˆ¶ç›¸å…³è¾¹ï¼ˆå¯é€‰ï¼‰
  - æ”¯æŒè·¨ç”»å¸ƒå¤åˆ¶ç²˜è´´

##### 1.2 èŠ‚ç‚¹åˆ†ç»„ï¼ˆParent Nodeï¼‰
- **åŠŸèƒ½æè¿°**: æ”¯æŒåµŒå¥—èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å¯ä»¥ä½œä¸ºå…¶ä»–èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
- **ä¼˜å…ˆçº§**: ðŸ”´ é«˜
- **é¢„è®¡å·¥ä½œé‡**: 3-5 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° parentNode å±žæ€§æ”¯æŒ
  - è®¡ç®—åµŒå¥—èŠ‚ç‚¹çš„ç»å¯¹ä½ç½®ï¼ˆpositionAbsoluteï¼‰
  - å®žçŽ° extent é™åˆ¶ï¼ˆèŠ‚ç‚¹åªèƒ½åœ¨çˆ¶èŠ‚ç‚¹å†…ç§»åŠ¨ï¼‰
  - æ”¯æŒ expandParent å±žæ€§
  - å¤„ç†åˆ†ç»„èŠ‚ç‚¹çš„è¾¹ç•Œè®¡ç®—
  - æ”¯æŒåˆ†ç»„èŠ‚ç‚¹çš„é€‰æ‹©ã€æ‹–æ‹½ã€åˆ é™¤

##### 1.3 èŠ‚ç‚¹å¯¹é½åŠŸèƒ½
- **åŠŸèƒ½æè¿°**: æ‹–æ‹½èŠ‚ç‚¹æ—¶æ˜¾ç¤ºå¯¹é½è¾…åŠ©çº¿ï¼Œæ”¯æŒç½‘æ ¼å¯¹é½
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°å¯¹é½è¾…åŠ©çº¿æ£€æµ‹ç®—æ³•
  - æ˜¾ç¤ºå¯¹é½è¾…åŠ©çº¿ UI
  - å®žçŽ°ç½‘æ ¼å¯¹é½ï¼ˆsnapToGridï¼‰
  - æ”¯æŒå¯¹é½åˆ°å…¶ä»–èŠ‚ç‚¹
  - æ”¯æŒå¯¹é½åˆ°ç”»å¸ƒä¸­å¿ƒ

##### 1.4 è¾¹ä¸­é—´ç‚¹ç¼–è¾‘
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ‹–æ‹½è¾¹ä¸­é—´çš„æŽ§åˆ¶ç‚¹æ¥è°ƒæ•´è¾¹è·¯å¾„
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°è¾¹ä¸­é—´ç‚¹ï¼ˆwaypointï¼‰æ•°æ®ç»“æž„
  - æ”¯æŒæ‹–æ‹½ä¸­é—´ç‚¹
  - æ›´æ–°è¾¹è·¯å¾„è®¡ç®—é€»è¾‘
  - æ”¯æŒæ·»åŠ /åˆ é™¤ä¸­é—´ç‚¹
  - æ”¯æŒä¸­é—´ç‚¹çš„åºåˆ—åŒ–

##### 1.5 âœ… èŠ‚ç‚¹è°ƒæ•´å¤§å°ï¼ˆResizeï¼‰
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ‹–æ‹½èŠ‚ç‚¹è¾¹ç¼˜è°ƒæ•´èŠ‚ç‚¹å¤§å°
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° ResizeHandle ç»„ä»¶
  - æ”¯æŒ 8 ä¸ªæ–¹å‘çš„è°ƒæ•´ï¼ˆå››è§’+å››è¾¹ï¼‰
  - å®žçŽ°æœ€å°/æœ€å¤§å°ºå¯¸é™åˆ¶
  - æ”¯æŒä¿æŒå®½é«˜æ¯”
  - è§¦å‘ onNodeResize å›žè°ƒ

##### 1.6 å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
- **åŠŸèƒ½æè¿°**: æ”¯æŒ JSON æ ¼å¼çš„å¯¼å…¥å¯¼å‡º
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° toObject() æ–¹æ³•ï¼ˆå·²éƒ¨åˆ†å®žçŽ°ï¼‰
  - å®žçŽ° fromObject() æ–¹æ³•
  - æ”¯æŒå¯¼å‡ºä¸º JSON æ–‡ä»¶
  - æ”¯æŒä»Ž JSON æ–‡ä»¶å¯¼å…¥
  - æ”¯æŒç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥

#### 2. é«˜çº§åŠŸèƒ½ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

##### 2.1 èŠ‚ç‚¹æœ€å°åŒ–/æœ€å¤§åŒ–
- **åŠŸèƒ½æè¿°**: æ”¯æŒèŠ‚ç‚¹æŠ˜å å’Œå±•å¼€
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° collapsed å±žæ€§
  - æŠ˜å æ—¶éšè—å­èŠ‚ç‚¹
  - æ”¯æŒå±•å¼€/æŠ˜å åŠ¨ç”»
  - æ›´æ–°è¾¹è·¯å¾„è®¡ç®—

##### 2.2 è¾¹æ ‡ç­¾æ ·å¼å¢žå¼º
- **åŠŸèƒ½æè¿°**: æ”¯æŒè¾¹æ ‡ç­¾çš„èƒŒæ™¯ã€æ ·å¼å®šåˆ¶
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - æ”¯æŒ labelStyleã€labelBgStyle
  - æ”¯æŒ labelShowBgã€labelBgPadding
  - æ”¯æŒ labelBgBorderRadius
  - æ”¯æŒè‡ªå®šä¹‰æ ‡ç­¾ç»„ä»¶

##### 2.3 èŠ‚ç‚¹å·¥å…·æ 
- **åŠŸèƒ½æè¿°**: èŠ‚ç‚¹ä¸Šçš„æ“ä½œæŒ‰é’®ï¼ˆåˆ é™¤ã€å¤åˆ¶ç­‰ï¼‰
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° NodeToolbar ç»„ä»¶
  - æ”¯æŒè‡ªå®šä¹‰å·¥å…·æ å†…å®¹
  - æ”¯æŒå·¥å…·æ ä½ç½®é…ç½®
  - æ”¯æŒæ‚¬åœæ˜¾ç¤º/éšè—

##### 2.4 æ‰¹é‡æ“ä½œ
- **åŠŸèƒ½æè¿°**: æ‰¹é‡ç§»åŠ¨ã€æ‰¹é‡åˆ é™¤ã€æ‰¹é‡é€‰æ‹©ç­‰
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°æ¡†é€‰åŠŸèƒ½ï¼ˆSelection Boxï¼‰
  - æ”¯æŒæ‰¹é‡ç§»åŠ¨é€‰ä¸­èŠ‚ç‚¹
  - æ”¯æŒæ‰¹é‡åˆ é™¤
  - æ”¯æŒæ‰¹é‡å¤åˆ¶ç²˜è´´
  - æ”¯æŒæ‰¹é‡å¯¹é½

##### 2.5 èŠ‚ç‚¹æœç´¢
- **åŠŸèƒ½æè¿°**: æœç´¢å¹¶å®šä½èŠ‚ç‚¹
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°èŠ‚ç‚¹æœç´¢ API
  - æ”¯æŒæŒ‰ IDã€æ ‡ç­¾ã€æ•°æ®æœç´¢
  - æ”¯æŒæœç´¢ç»“æžœé«˜äº®
  - æ”¯æŒè·³è½¬åˆ°èŠ‚ç‚¹ä½ç½®

##### 2.6 èŠ‚ç‚¹æ¨¡æ¿
- **åŠŸèƒ½æè¿°**: ä¿å­˜å’Œå¤ç”¨èŠ‚ç‚¹æ¨¡æ¿
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°èŠ‚ç‚¹æ¨¡æ¿å­˜å‚¨
  - æ”¯æŒä»Žæ¨¡æ¿åˆ›å»ºèŠ‚ç‚¹
  - æ”¯æŒæ¨¡æ¿åº“ç®¡ç†
  - æ”¯æŒæ¨¡æ¿å¯¼å…¥å¯¼å‡º

#### 3. æ€§èƒ½ä¼˜åŒ–ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

##### 3.1 è™šæ‹Ÿæ»šåŠ¨
- **åŠŸèƒ½æè¿°**: å¤§é‡èŠ‚ç‚¹æ—¶çš„æ€§èƒ½ä¼˜åŒ–
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 3-5 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°è§†å£è£å‰ªï¼ˆViewport Cullingï¼‰
  - åªæ¸²æŸ“å¯è§åŒºåŸŸçš„èŠ‚ç‚¹å’Œè¾¹
  - ä¼˜åŒ–å¤§é‡èŠ‚ç‚¹çš„æ¸²æŸ“æ€§èƒ½
  - æ”¯æŒåŠ¨æ€åŠ è½½èŠ‚ç‚¹

##### 3.2 èŠ‚ç‚¹æ‡’åŠ è½½
- **åŠŸèƒ½æè¿°**: æŒ‰éœ€æ¸²æŸ“èŠ‚ç‚¹
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°èŠ‚ç‚¹æ‡’åŠ è½½æœºåˆ¶
  - æ”¯æŒå¼‚æ­¥åŠ è½½èŠ‚ç‚¹æ•°æ®
  - æ”¯æŒåŠ è½½çŠ¶æ€æ˜¾ç¤º

##### 3.3 è¾¹è·¯å¾„ç¼“å­˜
- **åŠŸèƒ½æè¿°**: ç¼“å­˜è¾¹è·¯å¾„è®¡ç®—
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°è¾¹è·¯å¾„ç¼“å­˜æœºåˆ¶
  - åªåœ¨èŠ‚ç‚¹ä½ç½®å˜åŒ–æ—¶é‡æ–°è®¡ç®—
  - ä¼˜åŒ–å¤§é‡è¾¹çš„æ¸²æŸ“æ€§èƒ½

##### 3.4 äº‹ä»¶é˜²æŠ–ä¼˜åŒ–
- **åŠŸèƒ½æè¿°**: ä¼˜åŒ–æ‹–æ‹½å’Œç¼©æ”¾æ€§èƒ½
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°æ‹–æ‹½äº‹ä»¶é˜²æŠ–
  - å®žçŽ°ç¼©æ”¾äº‹ä»¶èŠ‚æµ
  - ä¼˜åŒ–é¢‘ç¹æ›´æ–°çš„æ€§èƒ½

#### 4. ç”¨æˆ·ä½“éªŒå¢žå¼ºï¼ˆä¸­ä½Žä¼˜å…ˆçº§ï¼‰

##### 4.1 è¿žæŽ¥é¢„è§ˆ
- **åŠŸèƒ½æè¿°**: è¿žæŽ¥æ—¶çš„é¢„è§ˆæ•ˆæžœ
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°è¿žæŽ¥é¢„è§ˆçº¿
  - æ˜¾ç¤ºè¿žæŽ¥æœ‰æ•ˆæ€§æç¤º
  - æ”¯æŒé¢„è§ˆæ ·å¼è‡ªå®šä¹‰

##### 4.2 èŠ‚ç‚¹è¿žæŽ¥æç¤º
- **åŠŸèƒ½æè¿°**: æ‚¬åœæ—¶æ˜¾ç¤ºå¯è¿žæŽ¥æç¤º
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 1 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°æ‚¬åœé«˜äº®æ•ˆæžœ
  - æ˜¾ç¤ºå¯è¿žæŽ¥çš„ Handle
  - æ”¯æŒæç¤ºæ ·å¼è‡ªå®šä¹‰

##### 4.3 èŠ‚ç‚¹æ‹–æ‹½é¢„è§ˆ
- **åŠŸèƒ½æè¿°**: æ‹–æ‹½èŠ‚ç‚¹æ—¶çš„é¢„è§ˆæ•ˆæžœ
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 1 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°æ‹–æ‹½é¢„è§ˆèŠ‚ç‚¹
  - æ˜¾ç¤ºæ‹–æ‹½ä½ç½®
  - æ”¯æŒé¢„è§ˆæ ·å¼è‡ªå®šä¹‰

##### 4.4 åŠ¨ç”»è¿‡æ¸¡
- **åŠŸèƒ½æè¿°**: èŠ‚ç‚¹ç§»åŠ¨ã€æ·»åŠ åˆ é™¤çš„åŠ¨ç”»
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°èŠ‚ç‚¹ç§»åŠ¨åŠ¨ç”»
  - å®žçŽ°èŠ‚ç‚¹æ·»åŠ /åˆ é™¤åŠ¨ç”»
  - å®žçŽ°è¾¹æ·»åŠ /åˆ é™¤åŠ¨ç”»
  - æ”¯æŒåŠ¨ç”»é…ç½®

##### 4.5 è§¦æ‘¸æ”¯æŒ
- **åŠŸèƒ½æè¿°**: ç§»åŠ¨ç«¯è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 3-5 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°è§¦æ‘¸æ‹–æ‹½
  - å®žçŽ°è§¦æ‘¸ç¼©æ”¾ï¼ˆåŒæŒ‡ï¼‰
  - å®žçŽ°è§¦æ‘¸å¹³ç§»
  - æ”¯æŒè§¦æ‘¸äº‹ä»¶å¤„ç†

##### 4.6 è¾…åŠ©ç½‘æ ¼å¯¹é½
- **åŠŸèƒ½æè¿°**: æ‹–æ‹½æ—¶è‡ªåŠ¨å¯¹é½ç½‘æ ¼
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°ç½‘æ ¼å¯¹é½ç®—æ³•
  - æ”¯æŒç½‘æ ¼å¤§å°é…ç½®
  - æ”¯æŒå¯¹é½å¼€å…³

#### 5. ReactFlow ç‰¹æœ‰åŠŸèƒ½

##### 5.1 è¾¹æ›´æ–°åŠŸèƒ½
- **åŠŸèƒ½æè¿°**: æ”¯æŒè¾¹çš„æ›´æ–°æ“ä½œï¼ˆupdateEdgeï¼‰
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° updateEdge å·¥å…·å‡½æ•°
  - æ”¯æŒè¾¹å±žæ€§æ›´æ–°
  - æ”¯æŒè¾¹è·¯å¾„æ›´æ–°

##### 5.2 èŠ‚ç‚¹æ›´æ–°åŠŸèƒ½å¢žå¼º
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ›´ä¸°å¯Œçš„èŠ‚ç‚¹æ›´æ–°æ“ä½œ
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° updateNode å·¥å…·å‡½æ•°
  - æ”¯æŒèŠ‚ç‚¹å±žæ€§æ‰¹é‡æ›´æ–°
  - æ”¯æŒèŠ‚ç‚¹ä½ç½®æ‰¹é‡æ›´æ–°

##### 5.3 è¾¹ç±»åž‹å¢žå¼º
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ›´å¤šè¾¹ç±»åž‹ï¼ˆå¦‚ stepã€smoothstep å˜ä½“ï¼‰
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° step è¾¹ç±»åž‹
  - å®žçŽ° smoothstep å˜ä½“
  - æ”¯æŒè‡ªå®šä¹‰è¾¹è·¯å¾„è®¡ç®—

##### 5.4 èŠ‚ç‚¹ç±»åž‹å¢žå¼º
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ›´å¤šå†…ç½®èŠ‚ç‚¹ç±»åž‹
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° InputNodeã€OutputNode
  - å®žçŽ° GroupNode
  - å®žçŽ°è‡ªå®šä¹‰èŠ‚ç‚¹æ¨¡æ¿

##### 5.5 äº‹ä»¶å›žè°ƒå¢žå¼º
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ›´å¤šäº‹ä»¶å›žè°ƒ
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° onNodeDragStart/End
  - å®žçŽ° onNodeResize
  - å®žçŽ° onEdgeUpdate
  - å®žçŽ° onMoveStart/End
  - å®žçŽ° onViewportChange

##### 5.6 è§†å›¾æŽ§åˆ¶å¢žå¼º
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ›´å¤šè§†å›¾æŽ§åˆ¶åŠŸèƒ½
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 1-2 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° fitBounds æ–¹æ³•
  - å®žçŽ° getNodesBounds æ–¹æ³•
  - å®žçŽ° getViewport æ–¹æ³•å¢žå¼º
  - æ”¯æŒè§†å›¾åŠ¨ç”»è¿‡æ¸¡

##### 5.7 æ ·å¼ç³»ç»Ÿå¢žå¼º
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ›´ä¸°å¯Œçš„æ ·å¼å®šåˆ¶
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - æ”¯æŒä¸»é¢˜ç³»ç»Ÿ
  - æ”¯æŒ CSS å˜é‡å®šåˆ¶
  - æ”¯æŒæš—è‰²æ¨¡å¼
  - æ”¯æŒè‡ªå®šä¹‰æ ·å¼ç±»

##### 5.8 æ— éšœç¢åŠŸèƒ½ï¼ˆA11yï¼‰
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ— éšœç¢è®¿é—®
- **ä¼˜å…ˆçº§**: ðŸŸ¡ ä¸­
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ° ARIA å±žæ€§æ”¯æŒ
  - æ”¯æŒé”®ç›˜å¯¼èˆª
  - æ”¯æŒå±å¹•é˜…è¯»å™¨
  - æ”¯æŒç„¦ç‚¹ç®¡ç†

##### 5.9 å›½é™…åŒ–ï¼ˆi18nï¼‰
- **åŠŸèƒ½æè¿°**: æ”¯æŒå¤šè¯­è¨€
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - å®žçŽ°å›½é™…åŒ–ç³»ç»Ÿ
  - æ”¯æŒå¤šè¯­è¨€åˆ‡æ¢
  - æä¾›é»˜è®¤è¯­è¨€åŒ…
  - æ”¯æŒè‡ªå®šä¹‰è¯­è¨€åŒ…

##### 5.10 æ’ä»¶ç³»ç»Ÿ
- **åŠŸèƒ½æè¿°**: æ”¯æŒæ’ä»¶æ‰©å±•
- **ä¼˜å…ˆçº§**: ðŸŸ¢ ä½Ž
- **é¢„è®¡å·¥ä½œé‡**: 5-7 å¤©
- **å®žçŽ°è¦ç‚¹**:
  - è®¾è®¡æ’ä»¶ API
  - å®žçŽ°æ’ä»¶æ³¨å†Œæœºåˆ¶
  - æ”¯æŒæ’ä»¶ç”Ÿå‘½å‘¨æœŸ
  - æä¾›æ’ä»¶ç¤ºä¾‹

## ðŸ“… å®žæ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å®Œå–„ï¼ˆ2-3 å‘¨ï¼‰

**ç›®æ ‡**: å®žçŽ°æœ€åŸºç¡€ä½†å¿…éœ€çš„åŠŸèƒ½ï¼Œä½¿ SolidFlow èƒ½å¤Ÿæ»¡è¶³åŸºæœ¬çš„å·¥ä½œæµç¼–è¾‘éœ€æ±‚ã€‚

1. **å¤åˆ¶ç²˜è´´åŠŸèƒ½** (2-3 å¤©)
   - å®žçŽ° ClipboardManager
   - æ”¯æŒ Ctrl+C/Ctrl+V
   - æ”¯æŒèŠ‚ç‚¹å’Œè¾¹çš„å¤åˆ¶

2. **èŠ‚ç‚¹åˆ†ç»„åŠŸèƒ½** (3-5 å¤©)
   - å®žçŽ° parentNode æ”¯æŒ
   - å®žçŽ°åµŒå¥—èŠ‚ç‚¹æ¸²æŸ“
   - å®žçŽ°è¾¹ç•Œé™åˆ¶

3. **èŠ‚ç‚¹å¯¹é½åŠŸèƒ½** (2-3 å¤©)
   - å®žçŽ°å¯¹é½è¾…åŠ©çº¿
   - å®žçŽ°ç½‘æ ¼å¯¹é½
   - å®žçŽ°æ™ºèƒ½å¯¹é½

4. **è¾¹ä¸­é—´ç‚¹ç¼–è¾‘** (2-3 å¤©)
   - å®žçŽ°ä¸­é—´ç‚¹æ•°æ®ç»“æž„
   - å®žçŽ°æ‹–æ‹½ä¸­é—´ç‚¹
   - æ›´æ–°è¾¹è·¯å¾„è®¡ç®—

5. **å¯¼å…¥å¯¼å‡ºåŠŸèƒ½** (2-3 å¤©)
   - å®žçŽ° JSON å¯¼å…¥å¯¼å‡º
   - å®žçŽ°ç‰ˆæœ¬å…¼å®¹æ€§

### ç¬¬äºŒé˜¶æ®µï¼šé«˜çº§åŠŸèƒ½ï¼ˆ3-4 å‘¨ï¼‰

**ç›®æ ‡**: å¢žå¼ºç¼–è¾‘ä½“éªŒï¼Œæ”¯æŒæ›´å¤æ‚çš„åœºæ™¯ã€‚

1. **âœ… èŠ‚ç‚¹è°ƒæ•´å¤§å°** (å·²å®Œæˆ)
   - å®žçŽ° ResizeHandle
   - æ”¯æŒå¤šæ–¹å‘è°ƒæ•´

2. **æ‰¹é‡æ“ä½œ** (2-3 å¤©)
   - å®žçŽ°æ¡†é€‰åŠŸèƒ½
   - å®žçŽ°æ‰¹é‡æ“ä½œ

3. **è¾¹æ›´æ–°åŠŸèƒ½** (1 å¤©)
   - å®žçŽ° updateEdge
   - å®žçŽ°è¾¹å±žæ€§æ›´æ–°

4. **äº‹ä»¶å›žè°ƒå¢žå¼º** (1-2 å¤©)
   - å®žçŽ°æ›´å¤šäº‹ä»¶å›žè°ƒ
   - å®Œå–„äº‹ä»¶ç³»ç»Ÿ

5. **è§†å›¾æŽ§åˆ¶å¢žå¼º** (1-2 å¤©)
   - å®žçŽ° fitBounds
   - å®žçŽ°æ›´å¤šè§†å›¾æ–¹æ³•

### ç¬¬ä¸‰é˜¶æ®µï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆ2-3 å‘¨ï¼‰

**ç›®æ ‡**: ä¼˜åŒ–æ€§èƒ½ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚

1. **è™šæ‹Ÿæ»šåŠ¨** (3-5 å¤©)
   - å®žçŽ°è§†å£è£å‰ª
   - ä¼˜åŒ–å¤§é‡èŠ‚ç‚¹æ¸²æŸ“

2. **è¾¹è·¯å¾„ç¼“å­˜** (1-2 å¤©)
   - å®žçŽ°ç¼“å­˜æœºåˆ¶
   - ä¼˜åŒ–è¾¹æ¸²æŸ“æ€§èƒ½

3. **äº‹ä»¶é˜²æŠ–ä¼˜åŒ–** (1 å¤©)
   - å®žçŽ°é˜²æŠ–èŠ‚æµ
   - ä¼˜åŒ–äº¤äº’æ€§èƒ½

4. **èŠ‚ç‚¹æ‡’åŠ è½½** (2-3 å¤©)
   - å®žçŽ°æ‡’åŠ è½½æœºåˆ¶
   - æ”¯æŒå¼‚æ­¥åŠ è½½

### ç¬¬å››é˜¶æ®µï¼šç”¨æˆ·ä½“éªŒå¢žå¼ºï¼ˆ2-3 å‘¨ï¼‰

**ç›®æ ‡**: æå‡ç”¨æˆ·ä½“éªŒï¼Œå¢žåŠ æ˜“ç”¨æ€§ã€‚

1. **è¿žæŽ¥é¢„è§ˆ** (1-2 å¤©)
   - å®žçŽ°é¢„è§ˆæ•ˆæžœ
   - æ˜¾ç¤ºè¿žæŽ¥æç¤º

2. **åŠ¨ç”»è¿‡æ¸¡** (2-3 å¤©)
   - å®žçŽ°èŠ‚ç‚¹åŠ¨ç”»
   - å®žçŽ°è¾¹åŠ¨ç”»

3. **è§¦æ‘¸æ”¯æŒ** (3-5 å¤©)
   - å®žçŽ°è§¦æ‘¸æ‰‹åŠ¿
   - æ”¯æŒç§»åŠ¨ç«¯

4. **è¾…åŠ©åŠŸèƒ½** (1-2 å¤©)
   - å®žçŽ°ç½‘æ ¼å¯¹é½
   - å®žçŽ°è¿žæŽ¥æç¤º

### ç¬¬äº”é˜¶æ®µï¼šå®Œå–„å’Œä¼˜åŒ–ï¼ˆæŒç»­ï¼‰

**ç›®æ ‡**: å®Œå–„åŠŸèƒ½ï¼Œä¼˜åŒ–ä½“éªŒï¼Œå¢žåŠ é«˜çº§ç‰¹æ€§ã€‚

1. **æ— éšœç¢åŠŸèƒ½** (2-3 å¤©)
2. **å›½é™…åŒ–** (2-3 å¤©)
3. **ä¸»é¢˜ç³»ç»Ÿ** (2-3 å¤©)
4. **æ’ä»¶ç³»ç»Ÿ** (5-7 å¤©)
5. **æ–‡æ¡£å’Œç¤ºä¾‹** (æŒç»­)

## ðŸŽ¯ ä¼˜å…ˆçº§æ€»ç»“

### é«˜ä¼˜å…ˆçº§ï¼ˆå¿…é¡»å®žçŽ°ï¼‰
1. âœ… å¤åˆ¶ç²˜è´´åŠŸèƒ½
2. âœ… èŠ‚ç‚¹åˆ†ç»„åŠŸèƒ½
3. âœ… èŠ‚ç‚¹å¯¹é½åŠŸèƒ½
4. âœ… è¾¹ä¸­é—´ç‚¹ç¼–è¾‘
5. âœ… å¯¼å…¥å¯¼å‡ºåŠŸèƒ½

### ä¸­ä¼˜å…ˆçº§ï¼ˆé‡è¦åŠŸèƒ½ï¼‰
1. âœ… èŠ‚ç‚¹è°ƒæ•´å¤§å°
2. æ‰¹é‡æ“ä½œ
3. è¾¹æ›´æ–°åŠŸèƒ½
4. äº‹ä»¶å›žè°ƒå¢žå¼º
5. è§†å›¾æŽ§åˆ¶å¢žå¼º
6. æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ã€ç¼“å­˜ï¼‰
7. è§¦æ‘¸æ”¯æŒ

### ä½Žä¼˜å…ˆçº§ï¼ˆå¢žå¼ºåŠŸèƒ½ï¼‰
1. èŠ‚ç‚¹æœ€å°åŒ–/æœ€å¤§åŒ–
2. èŠ‚ç‚¹å·¥å…·æ 
3. èŠ‚ç‚¹æœç´¢
4. èŠ‚ç‚¹æ¨¡æ¿
5. åŠ¨ç”»è¿‡æ¸¡
6. æ— éšœç¢åŠŸèƒ½
7. å›½é™…åŒ–
8. ä¸»é¢˜ç³»ç»Ÿ
9. æ’ä»¶ç³»ç»Ÿ

## ðŸ“ æŠ€æœ¯å®žçŽ°ç»†èŠ‚

### å¤åˆ¶ç²˜è´´å®žçŽ°

```typescript
class ClipboardManager {
  private clipboard: { nodes: Node[]; edges: Edge[] } | null = null;
  
  copy(nodes: Node[], edges: Edge[]): void {
    // ä¿å­˜é€‰ä¸­èŠ‚ç‚¹å’Œè¾¹
    this.clipboard = { nodes, edges };
  }
  
  paste(offset: XYPosition = { x: 20, y: 20 }): { nodes: Node[]; edges: Edge[] } | null {
    if (!this.clipboard) return null;
    
    // ç”Ÿæˆæ–° ID å¹¶åç§»ä½ç½®
    const newNodes = this.clipboard.nodes.map(node => ({
      ...node,
      id: generateId(),
      position: {
        x: node.position.x + offset.x,
        y: node.position.y + offset.y,
      },
    }));
    
    // æ›´æ–°è¾¹çš„ source/target ID
    const idMap = new Map(
      this.clipboard.nodes.map((node, i) => [node.id, newNodes[i].id])
    );
    
    const newEdges = this.clipboard.edges.map(edge => ({
      ...edge,
      id: generateId(),
      source: idMap.get(edge.source) || edge.source,
      target: idMap.get(edge.target) || edge.target,
    }));
    
    return { nodes: newNodes, edges: newEdges };
  }
}
```

### èŠ‚ç‚¹åˆ†ç»„å®žçŽ°

```typescript
// è®¡ç®—åµŒå¥—èŠ‚ç‚¹çš„ç»å¯¹ä½ç½®
function calculateAbsolutePosition(
  node: Node,
  parentNodes: Node[]
): XYPosition {
  if (!node.parentNode) {
    return node.position;
  }
  
  const parent = parentNodes.find(n => n.id === node.parentNode);
  if (!parent) {
    return node.position;
  }
  
  const parentAbsolute = calculateAbsolutePosition(parent, parentNodes);
  return {
    x: parentAbsolute.x + node.position.x,
    y: parentAbsolute.y + node.position.y,
  };
}

// æ£€æŸ¥èŠ‚ç‚¹æ˜¯å¦åœ¨çˆ¶èŠ‚ç‚¹è¾¹ç•Œå†…
function isNodeInParentBounds(
  node: Node,
  parent: Node
): boolean {
  const nodeBounds = {
    x: node.position.x,
    y: node.position.y,
    width: node.width || 0,
    height: node.height || 0,
  };
  
  const parentBounds = {
    x: 0,
    y: 0,
    width: parent.width || 0,
    height: parent.height || 0,
  };
  
  return (
    nodeBounds.x >= parentBounds.x &&
    nodeBounds.y >= parentBounds.y &&
    nodeBounds.x + nodeBounds.width <= parentBounds.x + parentBounds.width &&
    nodeBounds.y + nodeBounds.height <= parentBounds.y + parentBounds.height
  );
}
```

### å¯¹é½è¾…åŠ©çº¿å®žçŽ°

```typescript
interface AlignmentLine {
  type: 'horizontal' | 'vertical';
  position: number;
  nodes: Node[];
}

function detectAlignmentLines(
  draggedNode: Node,
  otherNodes: Node[]
): AlignmentLine[] {
  const lines: AlignmentLine[] = [];
  const nodeCenter = getNodeCenter(draggedNode);
  const threshold = 5; // å¯¹é½é˜ˆå€¼ï¼ˆåƒç´ ï¼‰
  
  for (const node of otherNodes) {
    if (node.id === draggedNode.id) continue;
    
    const otherCenter = getNodeCenter(node);
    
    // æ£€æŸ¥æ°´å¹³å¯¹é½
    if (Math.abs(nodeCenter.y - otherCenter.y) < threshold) {
      lines.push({
        type: 'horizontal',
        position: otherCenter.y,
        nodes: [node],
      });
    }
    
    // æ£€æŸ¥åž‚ç›´å¯¹é½
    if (Math.abs(nodeCenter.x - otherCenter.x) < threshold) {
      lines.push({
        type: 'vertical',
        position: otherCenter.x,
        nodes: [node],
      });
    }
  }
  
  return lines;
}
```

## ðŸ“š å‚è€ƒèµ„æº

- [ReactFlow å®˜æ–¹æ–‡æ¡£](https://reactflow.dev/)
- [ReactFlow API å‚è€ƒ](https://reactflow.dev/api-reference/react-flow-props)
- [ReactFlow GitHub](https://github.com/xyflow/xyflow)
- [SolidJS å®˜æ–¹æ–‡æ¡£](https://www.solidjs.com/)

## ðŸŽ‰ å®Œæˆæ ‡å‡†

SolidFlow å¯ä»¥è¢«è®¤ä¸ºæ˜¯ ReactFlow çš„å®Œæ•´æ›¿ä»£å“ï¼Œå½“æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼š

1. âœ… æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®žçŽ°
2. âœ… æ‰€æœ‰é«˜ä¼˜å…ˆçº§åŠŸèƒ½å·²å®žçŽ°
3. âœ… æ€§èƒ½è¾¾åˆ°æˆ–æŽ¥è¿‘ ReactFlow æ°´å¹³
4. âœ… API è®¾è®¡æ¸…æ™°ä¸”æ˜“äºŽä½¿ç”¨
5. âœ… æ–‡æ¡£å®Œæ•´ï¼Œç¤ºä¾‹ä¸°å¯Œ
6. âœ… æ”¯æŒå¸¸è§çš„å·¥ä½œæµç¼–è¾‘åœºæ™¯
7. âœ… ç¤¾åŒºåé¦ˆè‰¯å¥½

---

**æœ€åŽæ›´æ–°**: 2024å¹´
**ç»´æŠ¤è€…**: SolidFlow å›¢é˜Ÿ
**ç‰ˆæœ¬**: 1.0.0
